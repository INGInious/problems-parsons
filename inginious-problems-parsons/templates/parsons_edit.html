<div class="form-group row">
    <label for="header-PID" class="col-sm-2 control-label">Context</label>
    <div class="col-sm-10">
        <textarea id="header-PID" class="form-control" name="problem[PID][header]"></textarea>
    </div>
</div>

<div class="form-group row">
    <label for="msg-success-PID" class="col-sm-2 control-label">Success message</label>
    <div class="col-sm-10">
        <textarea id="msg-success-PID" class="form-control" name="problem[PID][success_msg]" placeholder="An optional success message"></textarea>
    </div>
</div>

<div class="form-group row">
    <label for="msg-fail-PID" class="col-sm-2 control-label">Failed message</label>
    <div class="col-sm-10">
        <textarea id="msg-fail-PID" class="form-control" name="problem[PID][fail_msg]" placeholder="An optional failed message"></textarea>
    </div>
</div>

<div class="form-group row">
    <label for="indication-PID" class="col-sm-2 control-label">Errors indications level</label>
    <div class="col-sm-10">
        <select id="indication-PID" class="form-control" name="problem[PID][indication]">
            <option selected="selected" value="0">Disabled</option>
            <option value="1">Partial  (errors in red)</option>
            <option value="2">Complete (errors in red, near good placement in orange, wrong indent tag)</option>
        </select>
    </div>
</div>

<div class="form-group row">
    <label for="grading-PID" class="col-sm-2 control-label">Enable ranged grading</label>
    <div class="col-10">
        <input type="checkbox" id="grading-PID" name="problem[PID][grading]">
    </div>
</div>

<div class="form-group row">
    <label for="length-feedback-PID" class="col-sm-2 control-label">Solution length feedback</label>
    <div class="col-10">
        <input type="checkbox" id="length-feedback-PID" name="problem[PID][length_feedback]">
    </div>
</div>

<div class="form-group row">
    <label for="adaptive-PID" class="col-sm-2 control-label">Enable adaptive problem</label>
    <div class="col-10">
        <input type="checkbox" id="adaptive-PID" name="problem[PID][adaptive]" data-toggle="collapse" data-target="#adaptive-options-PID">
    </div>
</div>

<div id="adaptive-options-PID" class="form-group row collapse">
    <label for="adaptive-start-PID" class="col-sm-2 control-label">First hint</label>
    <div class="col-10">
        <input type="number" class="form-control" id="adaptive-start-PID" name="problem[PID][adaptive-start]" placeholder="Number of attempts before receiving the first hint">
    </div>

    <label for="adaptive-interval-PID" class="col-sm-2 control-label">Hints interval</label>
    <div class="col-10">
        <input type="number" class="form-control" id="adaptive-interval-PID" name="problem[PID][adaptive-interval]" placeholder="Number of attempts between new hints">
    </div>

    <label for="adaptive-stop-PID" class="col-sm-2 control-label">Minimum number of blocks</label>
    <div class="col-10">
        <input type="number" class="form-control" id="adaptive-stop-PID" name="problem[PID][adaptive-stop]" placeholder="Minimum block count to stop block fusion and halt hint availability">
    </div>
</div>

<div class="form-group row">
    <label for="indentation-PID" class="col-sm-2 control-label"> Enable indentation (2D problem)</label>
    <div class="col-10">
        <input type="checkbox" id="indentation-PID" name="problem[PID][indentation]" onclick="parsons_toggle_indentation('PID')">
    </div>
</div>

<div class="col-sm-12">
    <div class="card border border-primary mb-3">
        <div class="card-header text-center">
            <h5>Choices - Result</h5>
            <button class="btn btn-info mt-2" type="button" onclick="parsons_create_choice('PID', {newChoice: true});">
                <i class="fa fa-plus"></i>
                Add new choice
            </button>
            <button class="btn btn-info mt-2" type="button" onclick="parsons_generate_from_file('PID')">
                <i class="fa fa-file"></i>
                Generate from file
            </button>
            <button class="btn btn-info mt-2" type="button" onclick="parsons_export_file('PID')">
                <i class="fa fa-download"></i>
                Export to file
            </button>
        </div>

        <div id="result-PID" style="min-height: 100px"
             class="card-body parsons-result-PID">
            {# Parsons choice template - Result #}
        </div>
    </div>


    <div class="card border border-primary">
        <h5 class="card-header text-center">Choices - Distractors</h5>
        <div id="distractors-PID" style="min-height: 100px" class="card-body parsons-distractors-PID">
            {# Parsons choice template - Distractors #}
        </div>
    </div>
</div>

<input id="inputs-PID" type="text" name="problem[PID][inputs]" value="" class="parsons-result-input-PID mt-4 col-12"/>

<script>
    $(document).ready(function () {
        dragAndDropDict["PID"] = new ParsonsDragAndDrop('PID', {"edit": true});
    });

    function textarea_auto_height(elem){
        elem.style.height = "32px"; // base height for only one line
        elem.style.height = (elem.scrollHeight) + "px"; // multiline height = scrollBar height
    }
</script>
